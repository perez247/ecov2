<!--Forgot Password Starts-->
<section id="forgot-password">
  <div class="container-fluid forgot-password-bg">
    <div
      class="row full-height-vh m-0  d-flex align-items-center justify-content-center"
    >
      <div class="col-md-7 col-sm-12">
        <div class="card">
          <div class="card-content">
            <div class="card-body fg-image">
              <div class="row m-0">
                <div class="col-lg-6 d-none d-lg-block text-center py-3">
                  <img
                    src="/assets/img/default/email_verification.png"
                    alt=""
                    class="img-fluid"
                    width="300"
                    height="230"
                  />
                </div>
                <div class="col-lg-6 col-md-12 bg-white px-4 pt-3">
                  <h4 class="card-title mb-2">Email Verification</h4>

                  <!-- Loading Icon -->
                  <p class="card-text mb-3 text-center" *ngIf="loading">
                    <mat-spinner class="mx-auto spinner-eco" [diameter]="50"></mat-spinner>
                    Verifying Email
                  </p>


                  <!-- If email was not verified -->
                  <form *ngIf="isVerified === 'false'" [formGroup]="resendForm" >

                    <h6 class="mb-2"><strong>Email could not be verified, kindly resend verification link</strong></h6>

                    <!-- input field to resend verification link -->
                    <div class="form-group">
                      <mat-form-field>
                          <input
                            matInput
                            type="text"
                            placeholder="Email"
                            formControlName="emailAddress"
                        />
                        
                        <!-- Error message for email field -->
                        <mat-error>
                          <app-validator-error-message [form]="resendForm" [field]="'emailAddress'" ></app-validator-error-message>
                        </mat-error>


                      </mat-form-field>
                    </div>


                    <div class="fg-actions d-flex justify-content-between">

                      <!-- Send user back to login -->
                      <div class="login-btn">
                        <button class="btn btn-outline-primary" type="button">
                          <a
                            class="text-decoration-none"
                            [routerLink]="['/public']"
                            >Back To Login</a
                          >
                        </button>
                      </div>

                      <!-- button to resend -->
                      <div class="recover-pass">
                        <button 
                          class="btn btn-primary" 
                          [disabled]="resendForm.invalid || resendLoading" 
                          (click)="resendEmail()"
                          >
                            Re-send 
                            <mat-spinner *ngIf="resendLoading" class="spinner-white d-inline mx-1" [diameter]="17" ></mat-spinner>
                        </button>
                      </div>


                    </div>

                  </form>


                  <!-- If email was verified -->
                  <div *ngIf="isVerified === 'true'">

                    <h6 class="mb-2"><strong>Your email has been verified <i class="text-success ft-check-circle"></i></strong></h6>

                    <div class="login-btn">
                      <button class="btn btn-outline-primary">
                        <a
                          class="text-decoration-none"
                          [routerLink]="['/public']"
                          >Back To Login</a
                        >
                      </button>
                    </div>

                  </div>



                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!--Forgot Password Ends-->
